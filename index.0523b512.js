function e(e,t,r,s){Object.defineProperty(e,t,{get:r,set:s,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},s={},o=t.parcelRequirec929;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in s){var t=s[e];delete s[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){s[e]=t},t.parcelRequirec929=o),o.register("27Lyk",(function(t,r){var s,o;e(t.exports,"register",(()=>s),(e=>s=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var n={};s=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)n[t[r]]=e[t[r]]},o=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("27Lyk").register(JSON.parse('{"dZpbI":"index.0523b512.js","4cUQi":"rock.2312c16f.png","ezGWq":"paper.343f43f3.png","1bIWI":"scissors.ad4321ba.png","hrvjo":"win.eeb6aeb2.png","9BDrJ":"loose.0670a8d9.png","jOuyn":"tie.70e09e93.png"}'));var n;n=new URL(o("27Lyk").resolve("4cUQi"),import.meta.url).toString();var a;a=new URL(o("27Lyk").resolve("ezGWq"),import.meta.url).toString();var c;function i(){class e extends HTMLElement{shadow=this.attachShadow({mode:"open"});constructor(){super(),this.type=this.getAttribute("value"),this.render()}render(){document.createElement("style").innerHTML=".hand {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n            }","rock"===this.type&&(this.shadow.innerHTML=`<img class="hand" src=${n}>`),"paper"===this.type&&(this.shadow.innerHTML=`<img class="hand" src=${a}>`),"scissors"===this.type&&(this.shadow.innerHTML=`<img class="hand" src=${c}>`)}}customElements.define("custom-play",e)}function l(){class e extends HTMLElement{shadow=this.attachShadow({mode:"open"});constructor(){super(),this.text=this.getAttribute("value"),this.render()}render(){const e=document.createElement("style");e.innerHTML=" \n            .button {\n                font-size: 1.5em;\n                color: #D8FCFC;\n                background: cornflowerblue;\n                border: solid 5px #ADC4F0;\n                border-radius: 10px;\n                width: 100%;\n                padding: 0.5em;\n                cursor: pointer;\n            }\n            \n            ",this.shadow.innerHTML=`\n            <button class="button">${this.text}</button>`,this.shadow.appendChild(e)}}customElements.define("custom-button",e)}function u(e){const t=document.createElement("div");t.classList.add("container"),t.innerHTML='\n\n    <section class="title">\n        <h1>Rock</h1>\n        <h1>Paper</h1>\n        <h1>Scissors</h1>\n    </section>\n\n    <custom-button class="start" value="Start"></custom-button>\n\n    <section class="hands-section">\n        <custom-play  value="rock"></custom-play>\n        <custom-play  value="paper"></custom-play>\n        <custom-play  value="scissors"></custom-play>\n    </section>';return t.querySelector(".start").addEventListener("click",(t=>{e.goTo("/dwf-m5-parcel-server/instructions")})),t}function m(e){const t=document.createElement("div");t.innerHTML='\n    <div class="container">\n        <p class="instructions">Press "Play", then choose rock, paper or scissor before 3 seconds</p>\n\n        <custom-button class="start-game" value="Play"></custom-button>\n\n        <section class="hands-section">\n            <custom-play value="rock"></custom-play>\n            <custom-play value="paper"></custom-play>\n            <custom-play value="scissors"></custom-play>\n        </section>\n    </div>';return t.querySelector(".start-game").addEventListener("click",(t=>{e.goTo("/dwf-m5-parcel-server/game")})),t}c=new URL(o("27Lyk").resolve("1bIWI"),import.meta.url).toString();const p={data:{currentGame:{computerPlay:"",myPlay:""},history:{myScore:0,pcScore:0}},listeners:[],getState(){return this.data},setState(e){this.data=e;for(let e of this.listeners)e();console.log("Soy el state he cambiado: ",this.data)},subscribe(e){this.listeners.push(e)},setMove(e,t){const r=this.getState();r.currentGame.myPlay=e,r.currentGame.computerPlay=t,this.setState(r),this.setHistory(),console.log("Esta es la history:",this.getState().history)},whoWins(){const e=this.getState();return"rock"===e.currentGame.myPlay&&"rock"===e.currentGame.computerPlay||"scissors"===e.currentGame.myPlay&&"scissors"===e.currentGame.computerPlay||"paper"===e.currentGame.myPlay&&"paper"===e.currentGame.computerPlay?"tie":"rock"===e.currentGame.myPlay&&"scissors"===e.currentGame.computerPlay?"win":"rock"===e.currentGame.myPlay&&"paper"===e.currentGame.computerPlay?"loose":"scissors"===e.currentGame.myPlay&&"paper"===e.currentGame.computerPlay?"win":"scissors"===e.currentGame.myPlay&&"rock"===e.currentGame.computerPlay||"paper"===e.currentGame.myPlay&&"scissors"===e.currentGame.computerPlay?"loose":"paper"===e.currentGame.myPlay&&"rock"===e.currentGame.computerPlay?"win":void 0},setHistory(){const e=this.whoWins(),t=this.getState(),r=t.history.myScore,s=t.history.pcScore;"win"==e&&this.setState({...t,history:{myScore:r+1,pcScore:s}}),"loose"==e&&this.setState({...t,history:{myScore:r,pcScore:s+1}}),this.savedData()},savedData(){const e=this.getState().history;localStorage.setItem("data",JSON.stringify(e))}};function d(e){const t=document.createElement("div");t.innerHTML='\n\n    <div class="container">\n        <p class="counter"></p>\n        \n        <section class="hands-section">\n            <custom-play class="choosen" value="rock"></custom-play>\n            <custom-play class="choosen" value="paper"></custom-play>\n            <custom-play class="choosen" value="scissors"></custom-play>\n        </section>\n    </div>\n    \n    <div class="fight"></div>';let r=4;const s=t.querySelector(".counter"),o=setInterval((()=>{r--,s.innerHTML=`${r}`,console.log(r),0==r&&(clearInterval(o),e.goTo("/dwf-m5-parcel-server/instructions"))}),1500),n=t.querySelectorAll(".choosen"),a=t.querySelector(".container");return n.forEach((t=>{t.addEventListener("click",(r=>{r.preventDefault(),clearInterval(o);let s=function(){const e=["rock","paper","scissors"],t=2*Math.random()+0;return e[Math.round(t)]}(),n=r.target;console.log("Soy el choosenen ok: ",n),n.classList.add("big");let c=t.getAttribute("value");p.setMove(c,s),setTimeout((()=>{a.classList.add("off");document.querySelector(".fight").innerHTML=`<custom-play class="rotate" value="${s}"></custom-play>\n               <custom-play value="${c}"></custom-play>`}),1500),setTimeout((()=>{e.goTo("/dwf-m5-parcel-server/score")}),4500)}))})),t}var h;h=new URL(o("27Lyk").resolve("hrvjo"),import.meta.url).toString();var y;y=new URL(o("27Lyk").resolve("9BDrJ"),import.meta.url).toString();var v;function f(e){const t=document.createElement("div"),r=document.querySelector(".root"),s=p.whoWins();let o;"win"===s&&(r.classList.add("win"),o=h),"loose"===s&&(r.classList.add("loose"),o=y),"tie"===s&&(r.classList.add("tie"),o=v),t.innerHTML=`\n    <div class="container">\n        <img src="${o} height="90%" width="90%">\n\n        <div class="score-board"> \n            <h2>Score</h2>\n            <p>Your Score: ${p.getState().history.myScore} </p>\n            <p>Pc Score: ${p.getState().history.pcScore}</p>\n        </div>\n        <custom-button class="return" value="Restart"> </custom-button>\n    </div>`;return t.querySelector(".return").addEventListener("click",(t=>{t.preventDefault(),r.classList.remove("win"),r.classList.remove("loose"),r.classList.remove("tie"),e.goTo("/dwf-m5-parcel-server/instructions")})),t}function g(e){const t=[{path:/\/dwf-m5-parcel-server\/welcome/,page:u},{path:/\/dwf-m5-parcel-server\/instructions/,page:m},{path:/\/dwf-m5-parcel-server\/game/,page:d},{path:/\/dwf-m5-parcel-server\/score/,page:f}];function r(e){history.pushState({},"",e),s(e)}function s(s){console.log("El handleroute recibio esta ruta: ",s);for(const o of t)if(o.path.test(s)){const t=o.page({goTo:r});e.firstChild&&e.firstChild.remove(),e.appendChild(t)}}location.host.includes("leamonteleone.github.io")?r("/dwf-m5-parcel-server/welcome"):s(location.pathname),window.onpopstate=function(){s(location.pathname)}}v=new URL(o("27Lyk").resolve("jOuyn"),import.meta.url).toString(),function(){const e=document.querySelector(".root");console.log(e),i(),l(),g(e)}();
//# sourceMappingURL=index.0523b512.js.map
