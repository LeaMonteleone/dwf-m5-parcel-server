function e(e,t,s,o){Object.defineProperty(e,t,{get:s,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},o={},n=t.parcelRequirec929;null==n&&((n=function(e){if(e in s)return s[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return s[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequirec929=n),n.register("27Lyk",(function(t,s){var o,n;e(t.exports,"register",(()=>o),(e=>o=e)),e(t.exports,"resolve",(()=>n),(e=>n=e));var r={};o=function(e){for(var t=Object.keys(e),s=0;s<t.length;s++)r[t[s]]=e[t[s]]},n=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),n("27Lyk").register(JSON.parse('{"dZpbI":"index.8df9f7e6.js","4cUQi":"rock.2312c16f.png","ezGWq":"paper.343f43f3.png","1bIWI":"scissors.ad4321ba.png","jysMb":"win.eeb6aeb2.png","jHsqM":"loose.0670a8d9.png","bmkRk":"tie.70e09e93.png"}'));var r;r=new URL(n("27Lyk").resolve("4cUQi"),import.meta.url).toString();var a;a=new URL(n("27Lyk").resolve("ezGWq"),import.meta.url).toString();var c;function i(){class e extends HTMLElement{shadow=this.attachShadow({mode:"open"});constructor(){super(),this.type=this.getAttribute("value"),this.render()}render(){document.createElement("style").innerHTML=".hand {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n            }","rock"===this.type&&(this.shadow.innerHTML=`<img class="hand" src=${r}>`),"paper"===this.type&&(this.shadow.innerHTML=`<img class="hand" src=${a}>`),"scissors"===this.type&&(this.shadow.innerHTML=`<img class="hand" src=${c}>`)}}customElements.define("custom-play",e)}function l(){class e extends HTMLElement{shadow=this.attachShadow({mode:"open"});constructor(){super(),this.text=this.getAttribute("value"),this.render()}render(){const e=document.createElement("style");e.innerHTML=" \n            .button {\n                font-size: 1.5em;\n                color: #D8FCFC;\n                background: cornflowerblue;\n                border: solid 5px #ADC4F0;\n                border-radius: 10px;\n                width: 100%;\n                padding: 0.5em;\n                cursor: pointer;\n            }\n            \n            ",this.shadow.innerHTML=`\n            <button class="button">${this.text}</button>`,this.shadow.appendChild(e)}}customElements.define("custom-button",e)}function u(e){const t=document.createElement("div");t.classList.add("container"),t.innerHTML='\n\n    <section class="title">\n        <h1>Rock</h1>\n        <h1>Paper</h1>\n        <h1>Scissors</h1>\n    </section>\n\n    <custom-button class="start" value="Start"></custom-button>\n\n    <section class="hands-section">\n        <custom-play  value="rock"></custom-play>\n        <custom-play  value="paper"></custom-play>\n        <custom-play  value="scissors"></custom-play>\n    </section>';return t.querySelector(".start").addEventListener("click",(t=>{e.goTo("/instructions")})),t}function m(e){const t=document.createElement("div");t.innerHTML='\n    <div class="container">\n        <p class="instructions">Press "Play", then choose rock, paper or scissor before 3 seconds</p>\n\n        <custom-button class="start-game" value="Play"></custom-button>\n\n        <section class="hands-section">\n            <custom-play value="rock"></custom-play>\n            <custom-play value="paper"></custom-play>\n            <custom-play value="scissors"></custom-play>\n        </section>\n    </div>';return t.querySelector(".start-game").addEventListener("click",(t=>{e.goTo("/game")})),t}c=new URL(n("27Lyk").resolve("1bIWI"),import.meta.url).toString();const p={data:{currentGame:{computerPlay:"",myPlay:""},history:{myScore:0,pcScore:0}},listeners:[],getState(){return this.data},setState(e){this.data=e;for(let e of this.listeners)e();console.log("Soy el state he cambiado: ",this.data)},subscribe(e){this.listeners.push(e)},setMove(e,t){const s=this.getState();s.currentGame.myPlay=e,s.currentGame.computerPlay=t,this.setState(s),this.setHistory(),console.log("Esta es la history:",this.getState().history)},whoWins(){const e=this.getState();return"rock"===e.currentGame.myPlay&&"rock"===e.currentGame.computerPlay||"scissors"===e.currentGame.myPlay&&"scissors"===e.currentGame.computerPlay||"paper"===e.currentGame.myPlay&&"paper"===e.currentGame.computerPlay?"tie":"rock"===e.currentGame.myPlay&&"scissors"===e.currentGame.computerPlay?"win":"rock"===e.currentGame.myPlay&&"paper"===e.currentGame.computerPlay?"loose":"scissors"===e.currentGame.myPlay&&"paper"===e.currentGame.computerPlay?"win":"scissors"===e.currentGame.myPlay&&"rock"===e.currentGame.computerPlay||"paper"===e.currentGame.myPlay&&"scissors"===e.currentGame.computerPlay?"loose":"paper"===e.currentGame.myPlay&&"rock"===e.currentGame.computerPlay?"win":void 0},setHistory(){const e=this.whoWins(),t=this.getState(),s=t.history.myScore,o=t.history.pcScore;"win"==e&&this.setState({...t,history:{myScore:s+1,pcScore:o}}),"loose"==e&&this.setState({...t,history:{myScore:s,pcScore:o+1}}),this.savedData()},savedData(){const e=this.getState().history;localStorage.setItem("data",JSON.stringify(e))}};function d(e){const t=document.createElement("div");t.innerHTML='\n\n    <div class="container">\n        <p class="counter"></p>\n        \n        <section class="hands-section">\n            <custom-play class="choosen" value="rock"></custom-play>\n            <custom-play class="choosen" value="paper"></custom-play>\n            <custom-play class="choosen" value="scissors"></custom-play>\n        </section>\n    </div>\n    \n    <div class="fight"></div>';let s=4;const o=t.querySelector(".counter"),n=setInterval((()=>{s--,o.innerHTML=`${s}`,console.log(s),0==s&&(clearInterval(n),e.goTo("/instructions"))}),1500),r=t.querySelectorAll(".choosen"),a=t.querySelector(".container");return r.forEach((t=>{t.addEventListener("click",(s=>{s.preventDefault(),clearInterval(n);let o=function(){const e=["rock","paper","scissors"],t=2*Math.random()+0;return e[Math.round(t)]}(),r=s.target;console.log("Soy el choosenen ok: ",r),r.classList.add("big");let c=t.getAttribute("value");p.setMove(c,o),setTimeout((()=>{a.classList.add("off");document.querySelector(".fight").innerHTML=`<custom-play class="rotate" value="${o}"></custom-play>\n               <custom-play value="${c}"></custom-play>`}),1500),setTimeout((()=>{e.goTo("/score")}),4500)}))})),t}var h;h=new URL(n("27Lyk").resolve("jysMb"),import.meta.url).toString();var y;y=new URL(n("27Lyk").resolve("jHsqM"),import.meta.url).toString();var v;function f(e){const t=document.createElement("div"),s=document.querySelector(".root"),o=p.whoWins();let n;"win"===o&&(s.classList.add("win"),n=h),"loose"===o&&(s.classList.add("loose"),n=y),"tie"===o&&(s.classList.add("tie"),n=v),t.innerHTML=`\n    <div class="container">\n        <img src="${n} height="90%" width="90%">\n\n        <div class="score-board"> \n            <h2>Score</h2>\n            <p>Your Score: ${p.getState().history.myScore} </p>\n            <p>Pc Score: ${p.getState().history.pcScore}</p>\n        </div>\n        <custom-button class="return" value="Restart"> </custom-button>\n    </div>`;return t.querySelector(".return").addEventListener("click",(t=>{t.preventDefault(),s.classList.remove("win"),s.classList.remove("loose"),s.classList.remove("tie"),e.goTo("/instructions")})),t}function g(e){const t=[{path:/\/dwf-m5-parcel-server\/welcome/,page:u},{path:/\/dwf-m5-parcel-server\/instructions/,page:m},{path:/\/dwf-m5-parcel-server\/game/,page:d},{path:/\/dwf-m5-parcel-server\/score/,page:f}];function s(e){history.pushState({},"",e),o(e)}function o(o){console.log("El handleroute recibio esta ruta: ",o);for(const n of t)if(n.path.test(o)){const t=n.page({goTo:s});e.firstChild&&e.firstChild.remove(),e.appendChild(t)}}location.host.includes("LeaMonteleone.github.io")?s("/welcome"):o(location.pathname),window.onpopstate=function(){o(location.pathname)}}v=new URL(n("27Lyk").resolve("bmkRk"),import.meta.url).toString(),function(){const e=document.querySelector(".root");console.log(e),i(),l(),g(e)}();
//# sourceMappingURL=index.8df9f7e6.js.map
